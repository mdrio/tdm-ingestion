ingester:
  class: tdm_ingestion.ingestion.BasicIngester
  args:
    consumer:
      class: tdm_ingestion.consumers.tdmq_consumer.TDMQConsumer
      args:
        client:
          class: tdm_ingestion.tdmq.remote.Client
          args:
            url: http://web:8000
        entity_type:
          class: tdm_ingestion.models.Entity_type
          args:
            _id: PointWeatherObserver
            category: 'sensor'
        bucket: 60
        operation: avg
        after: 2019-01-01T00:00:00+00:00
        before: 2029-01-01T00:00:00+00:00

    storage:
      class: tdm_ingestion.storage.ckan.CkanStorage
      args:
        client:
          class: tdm_ingestion.storage.ckan.RemoteCkan
          args:
            base_url: http://ckan:5000
            client:
              class: tdm_ingestion.http_client.requests.Requests
              args: {}
            api_key: tester
        dataset: lisa
        resource: test


  process_forever: false
